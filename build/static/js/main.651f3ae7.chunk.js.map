{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Numbers.js","services/persons.js","components/Notification.js","components/ErrorNotification.js","App.js","index.js"],"names":["Filter","filter","handleFilterChange","value","onChange","PersonForm","props","onSubmit","addPerson","newName","handleNameChange","newNumber","handleNumberChange","type","Person","person","name","number","Numbers","persons","toLowerCase","includes","map","onClick","deleteHandler","baseUrl","axios","get","then","response","data","newObject","post","id","delete","put","Notification","message","className","ErrorNotification","App","useState","setPersons","setNewName","setNewNumber","setFilter","notification","setNotification","errorNotification","setErrorNotification","useEffect","console","log","personService","event","target","preventDefault","some","p","per","window","confirm","changedPerson","returnedPerson","catch","error","setTimeout","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.651f3ae7.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({filter, handleFilterChange}) => {\n    return (\n        <div>\n        filter shown with: <input value={filter} onChange={handleFilterChange}/>\n        </div>  \n    )\n}\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = (props) => {\n    return (\n        <form onSubmit={props.addPerson}>\n        <div>\n          name: <input value={props.newName} onChange={props.handleNameChange}/>\n        </div>\n        <div>\n          number: <input value={props.newNumber} onChange={props.handleNumberChange}/>\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Person = ({ person }) => {\n  return (\n    <><b>{person.name}</b> {person.number}</>\n  )\n}\n\nexport default Person","import React from 'react'\nimport Person from './Person'\n\nconst Numbers = (props) => {\n  const persons = props.persons\n  const filter = props.filter\n\n  return (\n    <div>\n      {filter ? persons.filter(person => person.name.toLowerCase().includes(filter.toLowerCase())).map((person) => <div key={person.name}><Person person={person} /><button onClick={() => props.deleteHandler(person)}>delete</button><br></br></div>) : persons.map((person) => \n        <div key={person.name}><Person person={person} /><button onClick={() => props.deleteHandler(person)}>delete</button><br></br></div>\n      )}\n    </div>\n  )\n}\n\nexport default Numbers","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst remove = id => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n  }\n\nexport default { getAll, create, remove, update }","import React from 'react'\n\nconst Notification = ({message}) => {\n    if (message === null) {\n        return null\n        }\n\n    return (\n        <div className=\"notification\">\n            {message}\n        </div>\n        )\n    }\n\n\nexport default Notification","import React from 'react'\n\n\nconst ErrorNotification = ({message}) => {\n    if (message === null) {\n        return null\n        }\n\n    return (\n        <div className=\"error\">\n            {message}\n        </div>\n        )\n    }\n\nexport default ErrorNotification","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Numbers from './components/Numbers'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\nimport ErrorNotification from './components/ErrorNotification'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filter, setFilter ] = useState('')\n  const [ notification, setNotification ] = useState(null)\n  const [ errorNotification, setErrorNotification ] = useState(null)\n\n  const hook = () => {\n    console.log('effect')\n    personService\n      .getAll()\n      .then(data => {\n        setPersons(data)\n      })\n  }\n  useEffect(hook, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    if (persons.some(p => p.name === newName)) {\n      const p = persons.filter(per => per.name === newName)[0]\n      console.log(p)\n      if(window.confirm(`${newName} is already added to phonebook, replace the old number with new one?`)){\n        const changedPerson = {...p, number: newNumber}\n        personService\n          .update(p.id, changedPerson)\n          .then(returnedPerson => {\n            setPersons(persons.map(person => person.id !== p.id ? person : returnedPerson))\n          })\n          .catch(error => {\n            setPersons(persons.filter(p => p.id !== changedPerson.id))\n            setErrorNotification(\n              `the person '${newName}' was already deleted from server`\n            )\n            setTimeout(() => {\n              setErrorNotification(null)\n            }, 5000)\n            return\n          })\n        setNewName('')\n        setNewNumber('')\n        setNotification(\n          `Updated ${newName}`\n          )\n        setTimeout(() => {\n          setNotification(null)\n        }, 5000)\n      }\n      return\n    }\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n    personService\n      .create(personObject)\n      .then(data => {\n        setPersons(persons.concat(data))\n        setNewName('')\n        setNewNumber('')\n        setNotification(\n          `Added ${newName}`\n          )\n        setTimeout(() => {\n          setNotification(null)\n        }, 5000)\n      })\n  }\n\n  const handleDeleteButtonClick = (person) => {\n    if(window.confirm(`Delete ${person.name}?`)){\n      personService\n      .remove(person.id)\n      .then(()=>{\n        setPersons(persons.filter(p => p.id !== person.id))\n        setNotification(\n          `Deleted ${person.name}`\n          )\n        setTimeout(() => {\n          setNotification(null)\n        }, 5000)\n      })\n      .catch(error => {\n        setPersons(persons.filter(p => p.id !== person.id))\n        setErrorNotification(\n          `the person '${person.name}' was already deleted from server`\n        )\n        setTimeout(() => {\n          setErrorNotification(null)\n        }, 5000)\n        return\n      })\n    }\n  }\n\n  const handleNameChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    console.log(event.target.value)\n    setFilter(event.target.value)\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      <Notification message={notification}/>\n      <ErrorNotification message={errorNotification}/>\n\n      <Filter filter={filter} handleFilterChange={handleFilterChange} />\n      \n      <h3>Add new person</h3>\n      <PersonForm addPerson={addPerson} newName={newName} handleNameChange={handleNameChange} newNumber={newNumber} handleNumberChange={handleNumberChange} />\n\n      <h2>Numbers</h2>\n      <Numbers persons={persons} filter={filter} deleteHandler={handleDeleteButtonClick}/>\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n  <App />, \n  document.getElementById('root')\n)"],"sourceRoot":""}